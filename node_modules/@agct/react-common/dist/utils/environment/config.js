(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(['exports'], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports);
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports);
    global.config = mod.exports;
  }
})(this, function (exports) {
  'use strict';

  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  var META_ATTRIBUTE_NAME = 'ag-environment-config';

  var encode = exports.encode = function encode() {
    var config = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];
    return encodeURIComponent(JSON.stringify(config));
  };

  var decode = exports.decode = function decode(content) {
    return JSON.parse(decodeURIComponent(content));
  };

  var metaTagForInjection = exports.metaTagForInjection = function metaTagForInjection(config) {
    var content = encode(config);
    return '<meta name="' + META_ATTRIBUTE_NAME + '" content="' + content + '" />';
  };

  var extractConfig = exports.extractConfig = function extractConfig() {
    var meta = document.querySelector('meta[name=\'' + META_ATTRIBUTE_NAME + '\']');
    if (meta) {
      return decode(meta.getAttribute('content'));
    }
    return { error: 'config not found' };
  };
});