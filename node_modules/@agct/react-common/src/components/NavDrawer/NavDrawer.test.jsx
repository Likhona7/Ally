import React from 'react';
import chai, { expect } from 'chai';
import { mount, shallow } from 'enzyme';
import chaiEnzyme from 'chai-enzyme';
import NavDrawer from './NavDrawer';

chai.use(chaiEnzyme());


describe('NavDrawer component', () => {
  it('should render', () => {
    const wrapper = mount(<NavDrawer />);
    expect(wrapper.childAt(0)).to.have.className('nav-drawer');
    expect(wrapper.childAt(0).find('button')).to.have.className('nav-drawer__toggle');
    expect(wrapper.childAt(0).find('button i')).to.have.className('agi-menu-hamburger');
    expect(wrapper.childAt(0).find('nav')).to.have.className('nav-drawer__wrapper');
  });


  it('should render children when passed in', () => {
    const wrapper = shallow(
      <NavDrawer>
        <div className="unique" />
      </NavDrawer>
    );
    expect(wrapper.contains(<div className="unique" />)).to.equal(true);
  });

  it('toggles open and close', () => {
    const wrapper = mount(<NavDrawer />);
    expect(wrapper.find('.nav-drawer')).to.not.have.className('is-open');

    wrapper.find('.nav-drawer__toggle').simulate('click');
    expect(wrapper.find('.nav-drawer')).to.have.className('is-open');

    wrapper.find('.nav-drawer__toggle').simulate('click');
    expect(wrapper.find('.nav-drawer')).to.not.have.className('is-open');
  });
});

