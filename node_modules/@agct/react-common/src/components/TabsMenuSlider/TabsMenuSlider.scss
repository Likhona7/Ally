@import 'node_modules/@agct/ag-styleguide/src/base/scss/variables/colors';
@import 'node_modules/@agct/ag-styleguide/src/base/scss/variables/typography';

$tabs-with-navs-padding: 0 to-rem(40px) !default;
$tab-base-color: $color-grey-dark !default;
$tab-base-padding: to-rem(15px) to-rem(20px) !default;
$tab-base-font-size: to-rem(18px) !default;
$tab-base-border: to-rem(2px) #fff solid !default;
$tab-base-line-height: 1.2 !default;
$tab-new-background: #f6f6f6 !default;

$tab-nav-width: to-rem(40px) !default;
$tab-nav-color: #000 !default;
$tab-nav-color-disabled: #d4d4d4 !default;

$tab-underline-padding: to-rem(20px) !default;
$tab-underline-height: to-rem(5px) !default;
$tab-underline-background: $color-primary !default;
$tab-underline-color-hover: $color-primary !default;

$tab-down-arrow-height: to-rem(12px) !default;
$tab-down-arrow-padding-bottom: $tab-down-arrow-height !default;
$tab-down-arrow-background: #f6f6f6 !default;
$tab-down-arrow-background-active: $color-primary !default;
$tab-down-arrow-color: #fff !default;

$tab-detail-border: #f6f6f6 !default;

.tabs-slider-container {
  margin-bottom: 6rem;
}

// General Tab Setup
.tabs-slider {
  position: relative;

  &.has-nav {
    padding: $tabs-with-navs-padding;
  }
}

.tabs-slider__tabs {
  display: flex;
  position: relative;
  overflow: hidden;
}

.tabs-slider__tabs-track {
  display: flex;
  flex-basis: 100%;
  width: 100%;
  transition: transform 0.3s ease-out;
}

.tabs-slider__tab {
  @keyframes newTab {
    from {
      background-color: $tab-new-background;
    }

    to {
      background-color: inherit;
    }
  }
  display: flex;
  flex: 1 0 100%;
  flex-direction: column;
  position: relative;
  margin: 0;
  padding: $tab-base-padding;
  line-height: $tab-base-line-height;
  font-size: $tab-base-font-size;
  font-weight: $font-weight-semibold;
  color: $tab-base-color;
  cursor: pointer;
  transition: flex-basis 0.2s;

  &.tabs-slider__tab--new {
    animation-duration: 2s;
    animation-name: newTab;
  }

  &::after {
    content: '';
    position: absolute;
  }
}

.tabs-slider__nav {
  position: absolute;
  width: $tab-nav-width;
  top: 0;
  bottom: 0;
  color: $tab-nav-color;
  cursor: pointer;

  .agi {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  &.is-disabled {
    color: $tab-nav-color-disabled;
    pointer-events: none;
  }

  &--next {
    right: 0;

    .agi {
      right: 0;
    }
  }

  &--prev {
    left: 0;

    .agi {
      left: 0;
    }
  }
}

.tabs-slider__detail {
  padding: 6rem;
  border: 1px solid $tab-detail-border;
}

// Tabs Variant: Underline on hover/active
.tabs-slider__tabs--underline {
  text-align: center;

  .tabs-slider__tab {
    padding: $tab-underline-padding;

    &::after {
      left: 0;
      bottom: 0;
      transform: scale3d(0, 1, 0);
    }

    &:hover,
    &.is-active {
      color: $tab-underline-color-hover;

      &::after {
        height: $tab-underline-height;
        width: 100%;
        background-color: $tab-underline-background;
        transform: scale3d(1, 1, 1);
        transform-origin: 0 0;
      }
    }

    &:hover {
      &::after {
        transition: transform 350ms cubic-bezier(0.4, 0, 0.2, 1);
      }
    }
  }
}

// Tabs Variant: Box with down-arrow on active
.tabs-slider__tabs--down-arrow {
  padding-bottom: $tab-down-arrow-padding-bottom;

  & + .tabs-slider__arrows .tabs-slider__nav {
    bottom: $tab-down-arrow-padding-bottom;
  }

  .tabs-slider__tab {
    border-left: $tab-base-border;
    border-right: $tab-base-border;
    background-color: $tab-down-arrow-background;
    transition: background-color 350ms cubic-bezier(0.4, 0, 0.2, 1);

    &:hover {
      color: lighten($tab-base-color, 30%);
    }

    &::after {
      bottom: 0;
      left: 50%;
      border-top: $tab-down-arrow-height $tab-down-arrow-background solid;
      border-left: $tab-down-arrow-height transparent solid;
      border-right: $tab-down-arrow-height transparent solid;
      transform: translateX(-50%);
      transition: transform 350ms cubic-bezier(0.4, 0, 0.2, 1), border-top 350ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    &.is-active {
      background-color: $tab-down-arrow-background-active;
      color: $tab-down-arrow-color;

      &::after {
        border-top: $tab-down-arrow-height $tab-down-arrow-background-active solid;
        transform: translate(-50%, $tab-down-arrow-height);
      }
    }
  }
}
