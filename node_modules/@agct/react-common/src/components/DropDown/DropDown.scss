@import 'node_modules/@agct/ag-styleguide/src/base/scss/variables/colors';
@import 'node_modules/@agct/ag-styleguide/src/base/scss/variables/typography';

$dropdown-base-font-size: to-rem(14px) !default;
$dropdown-toggle-background: transparent !default;
$dropdown-toggle-color: $color-grey !default;
$dropdown-toggle-font-size: 1em !default;
$dropdown-toggle-padding: to-rem(12px) to-rem(5px) !default;
$dropdown-toggle-underline-height: to-rem(4px) !default;
$dropdown-toggle-underline-width: to-rem(1px) !default;
$dropdown-toggle-underline-color: #cbcbcb !default;

.dropdown {
  position: relative;
  line-height: 1.2;
  font-size: $dropdown-base-font-size;
}

.dropdown__options {
  z-index: 30;
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  left: 0;
  max-height: 300px;
  overflow: auto;
  overflow-x: hidden;
  background: #fff;
  box-shadow: 0 0.0625rem 0.25rem 0 rgba(0, 0, 0, 0.5);

  &.is-open {
    display: block;
  }
}

.dropdown__options__group {
  display: block;
  color: #4a4a4a;
  font-weight: 700;
  border-top: 1px solid #efefef;
  padding: 15px 30px 5px;
}

.dropdown__options__option {
  display: block;
  color: #4a4a4a;
  border-left: 3px solid transparent;
  cursor: pointer;
  padding: 15px 30px;

  &.is-selected {
    border-left-color: #1285e6;
  }

  &.is-disabled {
    pointer-events: none;
    color: #7f7f7f;

    &:hover {
      border-left-color: #7f7f7f;
    }
  }

  &:hover {
    border-left-color: #c53146;
    background-color: #f2f2f2;
  }
}

.dropdown__toggle {
  display: flex;
  flex-wrap: wrap;
  padding: $dropdown-toggle-padding;
  font-size: $dropdown-toggle-font-size;
  font-weight: $font-weight-normal;
  color: $dropdown-toggle-color;
  background: $dropdown-toggle-background;
  cursor: pointer;

  .agi {
    flex: 0;
    margin-left: 1rem;
    color: $color-primary;
  }

  &::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: $dropdown-toggle-underline-height;
    border-right: $dropdown-toggle-underline-width solid $dropdown-toggle-underline-color;
    border-bottom: $dropdown-toggle-underline-width solid $dropdown-toggle-underline-color;
    border-left: $dropdown-toggle-underline-width solid $dropdown-toggle-underline-color;
  }
}

.dropdown__title {
  flex: 1;

  &.is-prompt {
    color: #7f7f7f;
  }

  .is-error & {
    color: #c53146;
  }
}

.input__error,
.dropdown--error {
  a {
    text-decoration: underline;
  }
}
