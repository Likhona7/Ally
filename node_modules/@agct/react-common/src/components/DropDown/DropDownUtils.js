import React from 'react';
import _ from 'lodash';
import DropDownItem from './DropDownItem';

export const buildBlankOption = (handleSelect) => {
  const blankItem = { value: null, label: '--' };

  return (
    <DropDownItem
      item={blankItem}
      isSelected={false}
      isDisabled={false}
      onClick={handleSelect}
    />
  );
};

export const buildOptions = (items, selectedItem, handleSelect) => items.map((item, key) => {
  const isSelected = selectedItem && selectedItem.value === item.value;
  const isDisabled = _.get(item, 'disabled', false);

  return (
    <DropDownItem
      key={key}
      item={item}
      isSelected={isSelected}
      isDisabled={isDisabled}
      onClick={handleSelect}
    />
  );
});


export const buildGroupOptions = (groups, selectedItem, handleSelect) => groups.map((group, key) => {
  const options = buildOptions(group.items, selectedItem, handleSelect);

  return (
    <div key={key}>
      <div className="dropdown__options__group">{group.label}</div>
      {options}
    </div>
  );
});
