import React, { PropTypes } from 'react';
import chai, { expect } from 'chai';
import { mount } from 'enzyme';
import chaiEnzyme from 'chai-enzyme';

chai.use(chaiEnzyme());

import Money from './Money';

const amount = 1234.5678;
const currencyCode = 'ZAR';

describe('Money component', () => {
  it('renders correct amount and symbol', () => {
    let wrapper = mount(<Money amount={amount} currencyCode={currencyCode} useSymbol={false} />);
    expect(wrapper).to.have.className('money');
    expect(wrapper.text()).to.equal('ZAR 1 234.57');

    wrapper = mount(<Money amount={amount} currencyCode={currencyCode} />);
    expect(wrapper.text()).to.equal('R 1 234.57');
  });

  it('should have prop types defined', () => {
    expect(Money.propTypes.amount).to.equal(PropTypes.number.isRequired);
    expect(Money.propTypes.currencyCode).to.equal(PropTypes.string.isRequired);
    expect(Money.propTypes.useSymbol).to.equal(PropTypes.bool);
  });

  it('has default props', () => {
    expect(Money.defaultProps).to.deep.equal({
      useSymbol: true,
    });
  });
});
